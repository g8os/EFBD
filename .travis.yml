sudo: required
dist: trusty
language: go

go:
  - 1.8

install:
  - go get -u github.com/Jumpscale/go-raml
  - ./tlog/install_dependencies.sh

script:
  - go test -timeout 5m $(go list ./... | grep -v vendor | grep -v tlogclient/examples)
  - GODEBUG=cgocheck=0 go test -timeout 5m -tags 'isal' $(go list ./... | grep -v vendor)
  - ./scripts/codegeneration.sh
